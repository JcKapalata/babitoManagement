<div class="table-container mat-elevation-z8">
  <table mat-table [dataSource]="produits">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> ID </th>
      <td mat-cell *matCellDef="let p"> {{p.id}} </td>
    </ng-container>

    <ng-container matColumnDef="nom">
      <th mat-header-cell *matHeaderCellDef> Nom </th>
      <td mat-cell *matCellDef="let p"> {{p.nom}} </td>
    </ng-container>

    <ng-container matColumnDef="taille">
      <th mat-header-cell *matHeaderCellDef> Taille </th>
      <td mat-cell *matCellDef="let p"> {{p.taille.join(', ')}} </td>
    </ng-container>

    <ng-container matColumnDef="couleur">
      <th mat-header-cell *matHeaderCellDef> Couleur </th>
      <td mat-cell *matCellDef="let p" class="cell-split">
        <div *ngFor="let c of p.couleur" class="sub-row">{{c}}</div>
      </td>
    </ng-container>

    <ng-container matColumnDef="quantite">
      <th mat-header-cell *matHeaderCellDef> Qté </th>
      <td mat-cell *matCellDef="let p" class="cell-split">
        <div *ngFor="let c of p.couleur" class="sub-row text-right">
          {{ p.quantiteTotal[c] || 0 }}
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="prix">
      <th mat-header-cell *matHeaderCellDef> Prix </th>
      <td mat-cell *matCellDef="let p" class="text-right"> {{ getPrice(p) | number:'1.2-2' }} </td>
    </ng-container>

    <ng-container matColumnDef="devise">
      <th mat-header-cell *matHeaderCellDef> Devise </th>
      <td mat-cell *matCellDef="let p"> {{p.devise}} </td>
    </ng-container>

    <ng-container matColumnDef="codeProduit">
      <th mat-header-cell *matHeaderCellDef> Code Produit </th>
      <td mat-cell *matCellDef="let p"> {{p.codeProduit}} </td>
    </ng-container>

    <ng-container matColumnDef="codeFournisseur">
      <th mat-header-cell *matHeaderCellDef> Fournisseur </th>
      <td mat-cell *matCellDef="let p"> {{p.codeFournisseur}} </td>
    </ng-container>

    <ng-container matColumnDef="region">
      <th mat-header-cell *matHeaderCellDef> Région </th>
      <td mat-cell *matCellDef="let p"> {{p.region}} </td>
    </ng-container>

    <ng-container matColumnDef="classement">
      <th mat-header-cell *matHeaderCellDef> Classement </th>
      <td mat-cell *matCellDef="let p"> {{p.classement}} </td>
    </ng-container>

    <ng-container matColumnDef="categorie">
      <th mat-header-cell *matHeaderCellDef> Catégorie </th>
      <td mat-cell *matCellDef="let p"> {{p.categorie}} </td>
    </ng-container>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef> Type </th>
      <td mat-cell *matCellDef="let p"> {{p.type}} </td>
    </ng-container>

    <ng-container matColumnDef="dateAjout">
      <th mat-header-cell *matHeaderCellDef> Ajouté le </th>
      <td mat-cell *matCellDef="let p"> {{p.dateAjout | date:'dd/MM/yyyy'}} </td>
    </ng-container>

    <ng-container matColumnDef="dateModification">
      <th mat-header-cell *matHeaderCellDef> Modifié le </th>
      <td mat-cell *matCellDef="let p"> {{p.dateModification | date:'dd/MM/yyyy'}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>